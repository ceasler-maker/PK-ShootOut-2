<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stats 207 Penalty Shootout Review Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: #f4f4f9;
            margin: 0;
            padding: 20px;
        }
        h1 {
            color: #333;
        }
        #game-container {
            margin-top: 30px;
        }
        .button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 18px;
            cursor: pointer;
        }
        #question {
            font-size: 20px;
            margin: 20px 0;
        }
        #scoreboard {
            margin-top: 20px;
        }
        #winner {
            font-size: 24px;
            color: green;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Stats 207 Penalty Shootout Review Game</h1>
    <div id="game-container">
        <div id="player-turn">Player 1's Turn</div>
        <div id="question"></div>
        <button class="button" onclick="answer(true)">True</button>
        <button class="button" onclick="answer(false)">False</button>
        <div id="result"></div>
        <div id="scoreboard">
            Player 1 Score: <span id="score1">0</span> | 
            Player 2 Score: <span id="score2">0</span>
        </div>
        <div id="winner"></div>
    </div>

    <script>
        // Questions and answers
        const questions = [
            {q: "Box plots show outliers, the IQR, and the Median.", a: true},
            {q: "Outliers can affect linear relationships.", a: true},
            {q: "Outliers cannot make a positive relationship negative.", a: false},
            {q: "Height can often be considered both a qualitative and quantitative variable.", a: false},
            {q: "A pie chart is the best way for displaying qualitative data.", a: false},
            {q: "Histograms are meant for displaying qualitative data.", a: false},
            {q: "A right skewed graph would have its peak near the right side.", a: false},
            {q: "58% of data is shown in the first standard deviation of a normal distribution.", a: false},
            {q: "The 78th percentile means that 78% of the data is below that point.", a: true},
            {q: "The mean is heavily affected by outliers.", a: true},
            {q: "The median is the 50th percentile.", a: true},
            {q: "The range and the IQR can be equal.", a: true},
            {q: "Bimodality means a data set having 2 peaks.", a: true},
            {q: "Correlation means causation.", a: false},
            {q: "Z scores are in the same unit as the data.", a: false},
            {q: "The Z-Score formula is (Mean-Observed value)/(Standard Deviation).", a: true},
            {q: "IQR and Standard deviation would be affected by a shift.", a: false},
            {q: "A R-Score of 0 shows only no linear relationship and not relationships in general.", a: true},
            {q: "P-Value relates to Probability.", a: true},
            {q: "It is valid to remove outliers before taking correlation.", a: true}
        ];

        let score1 = 0;
        let score2 = 0;
        let playerTurn = 1; // 1 or 2
        let round = 1;
        const maxRounds = 5;
        let usedQuestions = [];

        function getRandomQuestion() {
            if (usedQuestions.length === questions.length) usedQuestions = [];
            let index;
            do {
                index = Math.floor(Math.random() * questions.length);
            } while (usedQuestions.includes(index));
            usedQuestions.push(index);
            return questions[index];
        }

        let currentQuestion = getRandomQuestion();
        document.getElementById("question").innerText = currentQuestion.q;

        function answer(playerAnswer) {
            const resultDiv = document.getElementById("result");
            if (playerAnswer === currentQuestion.a) {
                resultDiv.innerText = "Correct! Goal!";
                if (playerTurn === 1) score1++; 
                else score2++;
            } else {
                resultDiv.innerText = "Incorrect! Saved by the keeper!";
            }

            document.getElementById("score1").innerText = score1;
            document.getElementById("score2").innerText = score2;

            // Check if game over
            if (round >= maxRounds && playerTurn === 2) {
                checkWinner();
            } else {
                // Switch turn
                playerTurn = playerTurn === 1 ? 2 : 1;
                if (playerTurn === 1) round++;
                document.getElementById("player-turn").innerText = `Player ${playerTurn}'s Turn`;
                currentQuestion = getRandomQuestion();
                document.getElementById("question").innerText = currentQuestion.q;
            }
        }

        function checkWinner() {
            const winnerDiv = document.getElementById("winner");
            if (score1 > score2) winnerDiv.innerText = "Player 1 Wins!";
            else if (score2 > score1) winnerDiv.innerText = "Player 2 Wins!";
            else {
                winnerDiv.innerText = "Tie! Sudden Death Begins!";
                suddenDeath();
            }
        }

        function suddenDeath() {
            round = 1; // Sudden death rounds
            const buttonTrue = document.querySelector("button[onclick='answer(true)']");
            const buttonFalse = document.querySelector("button[onclick='answer(false)']");

            buttonTrue.onclick = () => suddenDeathAnswer(true);
            buttonFalse.onclick = () => suddenDeathAnswer(false);
        }

        function suddenDeathAnswer(playerAnswer) {
            const resultDiv = document.getElementById("result");
            if (playerAnswer === currentQuestion.a) {
                resultDiv.innerText = "Correct! Goal!";
            } else {
                resultDiv.innerText = "Incorrect! Saved by the keeper!";
                document.getElementById("winner").innerText = `Player ${playerTurn === 1 ? 2 : 1} Wins Sudden Death!`;
                document.getElementById("question").innerText = "";
                return; // Stop game
            }

            // Switch turn
            playerTurn = playerTurn === 1 ? 2 : 1;
            document.getElementById("player-turn").innerText = `Player ${playerTurn}'s Turn`;
            currentQuestion = getRandomQuestion();
            document.getElementById("question").innerText = currentQuestion.q;
        }
    </script>
</body>
</html>